/**
 * Birthday Number Interpretations
 * Complete interpretations for natural talents based on birth day (1-31)
 */

import { NumberSection } from '@/components/numbers/NumberDetailScreen';

export const BIRTHDAY_SECTIONS: Record<number, NumberSection[]> = {
  1: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural leadership abilities and a pioneering spirit. Your birthday gives you the gift of originality and the courage to start new ventures. You have an innate ability to initiate and lead.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural leadership and authority\n+Ability to initiate and pioneer\n+Strong independence and self-reliance\n+Creative and original thinking\n+Courage to take risks and try new things\n+Natural confidence in decision-making\n+Ability to inspire others to action',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  2: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with exceptional diplomatic skills and a natural ability to work with others. Your birthday gives you the gift of cooperation, sensitivity, and the ability to create harmony in relationships.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural diplomacy and mediation skills\n+Exceptional ability to work in partnerships\n+Strong emotional sensitivity and intuition\n+Gift for creating harmony and balance\n+Ability to see both sides of any situation\n+Natural counseling and supportive abilities\n+Talent for bringing people together',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  3: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural creative and communication abilities. Your birthday gives you the gift of artistic expression, optimism, and the ability to inspire others through your words and actions.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural creativity and artistic ability\n+Exceptional communication skills\n+Gift for entertaining and inspiring others\n+Natural optimism and positive outlook\n+Ability to express ideas clearly and persuasively\n+Talent for multiple forms of creative expression\n+Natural charisma and social confidence',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  4: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural organizational abilities and a methodical approach to life. Your birthday gives you the gift of stability, reliability, and the ability to build lasting foundations.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural organizational and management skills\n+Exceptional attention to detail and quality\n+Strong work ethic and determination\n+Ability to create order from chaos\n+Natural project management abilities\n+Gift for systematic problem-solving\n+Talent for building things that last',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  5: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural versatility and a love of freedom. Your birthday gives you the gift of adaptability, curiosity, and the ability to communicate with diverse people and situations.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural versatility and adaptability\n+Exceptional communication and networking skills\n+Strong curiosity and love of learning\n+Ability to handle change and variety\n+Natural sales and persuasion abilities\n+Gift for languages and cultural understanding\n+Talent for connecting with diverse people',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  6: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural nurturing and healing abilities. Your birthday gives you the gift of compassion, responsibility, and the ability to care for and guide others.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural nurturing and caregiving abilities\n+Exceptional responsibility and reliability\n+Strong healing and counseling gifts\n+Ability to create beautiful, harmonious environments\n+Natural teaching and mentoring skills\n+Gift for understanding and helping others\n+Talent for bringing out the best in people',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  7: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural analytical and intuitive abilities. Your birthday gives you the gift of deep thinking, spiritual insight, and the ability to uncover hidden truths.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural analytical and research abilities\n+Exceptional intuitive and psychic sensitivity\n+Strong spiritual and philosophical insight\n+Ability to work independently and concentrate deeply\n+Natural detective and investigative skills\n+Gift for understanding complex subjects\n+Talent for teaching and sharing wisdom',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  8: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural business and material abilities. Your birthday gives you the gift of ambition, practical judgment, and the ability to achieve success in the material world.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural business acumen and financial insight\n+Exceptional organizational and executive abilities\n+Strong ambition and goal-oriented nature\n+Ability to see the big picture and plan strategically\n+Natural authority and power to influence others\n+Gift for managing resources and people\n+Talent for turning ideas into profitable ventures',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  9: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with natural humanitarian and artistic abilities. Your birthday gives you the gift of compassion, wisdom, and the ability to serve causes greater than yourself.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural compassion and humanitarian instincts\n+Exceptional artistic and creative abilities\n+Strong wisdom and mature perspective\n+Ability to inspire others toward higher purposes\n+Natural teaching and counseling gifts\n+Gift for seeing universal connections\n+Talent for serving the greater good',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  10: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with the combined gifts of leadership (1) and cooperation (0). Your birthday gives you the ability to lead while understanding the importance of including others in your vision.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural leadership with collaborative skills\n+Ability to work independently or with groups\n+Strong creative and original thinking\n+Gift for inspiring others while remaining humble\n+Natural ability to start new projects\n+Talent for balancing personal goals with group needs\n+Exceptional potential for achievement',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  11: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with exceptional intuitive and inspirational abilities. Your birthday gives you the gift of spiritual insight, charisma, and the ability to uplift others.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Exceptional intuitive and psychic abilities\n+Natural inspirational and motivational gifts\n+Strong spiritual sensitivity and insight\n+Ability to channel higher wisdom\n+Natural charisma and magnetic presence\n+Gift for teaching and guiding others spiritually\n+Talent for bridging material and spiritual worlds',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  12: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with the combined gifts of leadership (1) and cooperation (2). Your birthday gives you the ability to lead through diplomacy and create harmony while achieving goals.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Natural diplomatic leadership abilities\n+Exceptional ability to work with diverse groups\n+Strong creative and artistic expression\n+Gift for mediating and finding compromise\n+Natural ability to inspire cooperation\n+Talent for organizing people and resources\n+Creative problem-solving abilities',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
  22: [
    {
      id: 'natural-gifts',
      title: 'Natural Gifts',
      content: 'You were born with Master Builder abilities. Your birthday gives you the gift of manifesting grand visions in practical ways and creating lasting benefits for humanity.',
      icon: '■',
      type: 'traits',
      level: 1,
    },
    {
      id: 'special-talents',
      title: 'Special Talents',
      content: '+Exceptional ability to manifest large-scale visions\n+Natural master building and organizing skills\n+Strong intuitive wisdom combined with practical action\n+Ability to inspire others toward ambitious goals\n+Natural understanding of systems and structures\n+Gift for creating things that benefit many people\n+Talent for bridging idealism with reality',
      icon: '○',
      type: 'traits',
      level: 1,
    },
  ],
};

// For days 13-21, 23-31, we reduce to single digits for interpretation
// but acknowledge the compound influence
export const BIRTHDAY_TITLES: Record<number, string> = {
  1: 'The Natural Leader',
  2: 'The Cooperative Partner',
  3: 'The Creative Communicator',
  4: 'The Methodical Builder',
  5: 'The Adventurous Explorer',
  6: 'The Responsible Caretaker',
  7: 'The Analytical Thinker',
  8: 'The Ambitious Achiever',
  9: 'The Humanitarian Helper',
  10: 'The Independent Creator',
  11: 'The Intuitive Inspirer',
  12: 'The Diplomatic Leader',
  13: 'The Creative Organizer', // 1+3=4, with creative flair
  14: 'The Adventurous Builder', // 1+4=5, with stability
  15: 'The Freedom-Loving Nurturer', // 1+5=6, with adventure
  16: 'The Intuitive Leader', // 1+6=7, with caring
  17: 'The Spiritual Pioneer', // 1+7=8, with wisdom
  18: 'The Compassionate Leader', // 1+8=9, with power
  19: 'The Independent Humanitarian', // 1+9=10=1, with wisdom
  20: 'The Cooperative Leader', // 2+0=2, with potential
  21: 'The Creative Collaborator', // 2+1=3, with leadership
  22: 'The Master Builder',
  23: 'The Expressive Partner', // 2+3=5, with creativity
  24: 'The Caring Organizer', // 2+4=6, with structure
  25: 'The Wise Communicator', // 2+5=7, with adventure
  26: 'The Powerful Nurturer', // 2+6=8, with caring
  27: 'The Humanitarian Analyst', // 2+7=9, with wisdom
  28: 'The Independent Cooperator', // 2+8=10=1, with power
  29: 'The Inspirational Partner', // 2+9=11, with wisdom
  30: 'The Creative Organizer', // 3+0=3, with potential
  31: 'The Practical Creative', // 3+1=4, with leadership
};

export const getBirthdaySections = (number: number): NumberSection[] => {
  // For compound numbers, use the base interpretation but acknowledge the compound influence
  if (number > 12 && number !== 22) {
    const reducedNumber = number > 31 ? 
      Math.floor((number - 1) % 31) + 1 : // Handle edge case
      (Math.floor((number - 1) / 10) + ((number - 1) % 10) + 1);
    
    // Calculate single digit for core interpretation
    let singleDigit = reducedNumber;
    while (singleDigit > 9 && singleDigit !== 11 && singleDigit !== 22) {
      singleDigit = Math.floor(singleDigit / 10) + (singleDigit % 10);
    }
    
    const baseSections = BIRTHDAY_SECTIONS[singleDigit] || BIRTHDAY_SECTIONS[1];
    
    // Add compound influence note
    const compoundSections = [...baseSections];
    if (compoundSections.length > 0) {
      compoundSections[0] = {
        ...compoundSections[0],
        content: compoundSections[0].content + ` Your birth on the ${number}${getOrdinalSuffix(number)} adds additional complexity and depth to these core traits, combining multiple numerological influences.`
      };
    }
    
    return compoundSections;
  }
  
  return BIRTHDAY_SECTIONS[number] || BIRTHDAY_SECTIONS[1];
};

function getOrdinalSuffix(number: number): string {
  const lastDigit = number % 10;
  const lastTwoDigits = number % 100;
  
  if (lastTwoDigits >= 11 && lastTwoDigits <= 13) {
    return 'th';
  }
  
  switch (lastDigit) {
    case 1: return 'st';
    case 2: return 'nd';
    case 3: return 'rd';
    default: return 'th';
  }
}

export const getBirthdayTitle = (number: number): string => {
  return BIRTHDAY_TITLES[number] || BIRTHDAY_TITLES[1];
};